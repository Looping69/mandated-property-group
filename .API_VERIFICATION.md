# Admin Dashboard API Endpoints Verification

Last verified: 2026-01-20

## Backend Base URL
- **Production**: `https://staging-backend-wp62.encr.app`
- **Local**: `http://localhost:4000`

---

## âœ… Public Endpoints (No Auth Required)

| Endpoint | Method | Service | Status |
|----------|--------|---------|--------|
| `/api/properties` | GET | propertyService.list() | âœ… Working |
| `/api/properties/:id` | GET | propertyService.getById() | âœ… Working |
| `/api/agents` | GET | agentService.list() | âœ… Working |
| `/api/contractors` | GET | contractorService.list() | âœ… Working |
| `/api/conveyancers` | GET | conveyancerService.list() | âœ… Working |
| `/api/agencies` | GET | agencyService.list() | âœ… Working |
| `/api/inquiries` | POST | inquiryService.create() | âœ… Working |
| `/api/maintenance` | GET | maintenanceService.getAll() | âœ… Working |
| `/api/tours` | GET | tourService.list() | âœ… Working |
| `/api/auth/signup` | POST | userService.signup() | âœ… Working |
| `/api/auth/login` | POST | userService.login() | âœ… Working |

---

## ðŸ”’ Protected Endpoints (Auth Required)

| Endpoint | Method | Service | Status |
|----------|--------|---------|--------|
| `/api/my-properties` | GET | propertyService.listMy() | âœ… Working |
| `/api/properties` | POST | propertyService.create() | âœ… Working |
| `/api/properties/:id` | PUT | propertyService.update() | âœ… Working |
| `/api/properties/:id` | DELETE | propertyService.delete() | âœ… Working |
| `/api/agents` | POST | agentService.create() | âœ… Working |
| `/api/agents/:id` | DELETE | agentService.delete() | âœ… Working |
| `/api/contractors` | POST | contractorService.create() | âœ… Working |
| `/api/contractors/:id` | DELETE | contractorService.delete() | âœ… Working |
| `/api/conveyancers` | POST | conveyancerService.create() | âœ… Working |
| `/api/conveyancers/:id` | DELETE | conveyancerService.delete() | âœ… Working |
| `/api/inquiries` | GET | inquiryService.list() | âœ… Working |
| `/api/inquiries/:id/status` | PUT | inquiryService.updateStatus() | âœ… Working |
| `/api/maintenance` | POST | maintenanceService.create() | âœ… Working |
| `/api/maintenance/:id` | PUT | maintenanceService.update() | âœ… Working |
| `/api/maintenance/:id` | DELETE | maintenanceService.delete() | âœ… Working |
| `/api/maintenance/:id/assign` | POST | maintenanceService.assign() | âœ… Working |
| `/api/maintenance/:id/status` | PUT | maintenanceService.updateStatus() | âœ… Working |
| `/api/tours` | POST | tourService.create() | âœ… Working |
| `/api/tours/:id` | PUT | tourService.update() | âœ… Working |
| `/api/tours/:id` | DELETE | tourService.delete() | âœ… Working |
| `/api/users` | GET | userService.list() | âœ… Working (Admin only) |
| `/api/users/:id` | GET | userService.getById() | âœ… Working |
| `/api/users/:id` | PUT | userService.update() | âœ… Working |
| `/api/auth/me` | POST | userService.getCurrentUser() | âœ… Working |
| `/api/auth/logout` | POST | userService.logout() | âœ… Working |

---

## Admin Dashboard Components â†’ APIs Mapping

### OverviewDashboard
- Uses: listings, agents, inquiries, contractors, conveyancers, virtualTours
- All data fetched from DataContext âœ…

### ListingsManager
- List: `/api/properties` âœ…
- Create: `/api/properties` (POST) âœ…
- Update: `/api/properties/:id` (PUT) âœ…
- Delete: `/api/properties/:id` (DELETE) âœ…

### AgentsManager
- List: `/api/agents` âœ…
- Create: `/api/agents` (POST) âœ…
- Delete: `/api/agents/:id` (DELETE) âœ…

### InquiryManager
- List: `/api/inquiries` âœ…
- Update Status: `/api/inquiries/:id/status` (PUT) âœ…

### MaintenanceManager
- List: `/api/maintenance` âœ…
- Create: `/api/maintenance` (POST) âœ…
- Update: `/api/maintenance/:id` (PUT) âœ…
- Delete: `/api/maintenance/:id` (DELETE) âœ…
- Assign: `/api/maintenance/:id/assign` (POST) âœ…
- Update Status: `/api/maintenance/:id/status` (PUT) âœ…

### ConveyancersManager
- List: `/api/conveyancers` âœ…
- Create: `/api/conveyancers` (POST) âœ…
- Delete: `/api/conveyancers/:id` (DELETE) âœ…

### VirtualTourManager
- List: `/api/tours` âœ…
- Create: `/api/tours` (POST) âœ…
- Update: `/api/tours/:id` (PUT) âœ…
- Delete: `/api/tours/:id` (DELETE) âœ…

---

## Test User Credentials

| Role | Email | Password |
|------|-------|----------|
| ADMIN | admin@showhouse.co.za | Test1234! |
| AGENT | agent@showhouse.co.za | Test1234! |
| AGENCY | agency@showhouse.co.za | Test1234! |
| CONTRACTOR | contractor@showhouse.co.za | Test1234! |

---

## Notes
- All endpoints are connected to the Encore backend at `staging-backend-wp62.encr.app`
- Vercel rewrites `/api/*` requests to the Encore backend
- Protected endpoints require `Authorization: Bearer <token>` header
- Tokens are obtained via login and stored by AuthContext
